<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Natural State Oslo - Unified Planning & Building Platform</title>
    <meta name="description" content="Complete platform for Oslo planning documents and building permits - La oss bygge Oslo for folket!">
    
    <!-- PWA Support -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#148F77">
    <link rel="apple-touch-icon" href="/icon-192.png">
    
    <!-- External Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.150.0/build/three.min.js"></script>
    <script src="https://unpkg.com/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4/dist/tesseract.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        :root {
            /* Natural State Color Palette */
            --primary: 22, 143, 119;      /* Forest Green */
            --primary-dark: 15, 98, 82;   /* Dark Forest */
            --secondary: 46, 134, 171;    /* Ocean Blue */
            --accent: 251, 146, 60;        /* Sunset Orange */
            --nature: 88, 166, 61;         /* Leaf Green */
            --earth: 139, 69, 19;          /* Earth Brown */
            --sky: 135, 206, 235;          /* Sky Blue */
            --success: 34, 197, 94;        /* Success Green */
            --warning: 251, 191, 36;       /* Warning Yellow */
            --danger: 239, 68, 68;         /* Danger Red */
            --bg-light: 248, 250, 247;     /* Natural White */
            --bg-dark: 15, 23, 20;         /* Forest Night */
            --text-light: 51, 65, 59;      /* Forest Text */
            --text-dark: 226, 232, 230;    /* Light Mint */
        }

        * {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: rgb(var(--bg-light));
            color: rgb(var(--text-light));
        }

        body.dark {
            background: rgb(var(--bg-dark));
            color: rgb(var(--text-dark));
        }

        /* Natural Glass Effect */
        .natural-glass {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
        }

        .dark .natural-glass {
            background: rgba(30, 41, 35, 0.85);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Nature-inspired Gradients */
        .nature-gradient {
            background: linear-gradient(135deg, 
                rgb(var(--primary)) 0%, 
                rgb(var(--nature)) 50%, 
                rgb(var(--secondary)) 100%);
        }

        .earth-gradient {
            background: linear-gradient(135deg, 
                rgb(var(--earth)) 0%, 
                rgb(var(--primary)) 100%);
        }

        .sky-gradient {
            background: linear-gradient(180deg, 
                rgb(var(--sky)) 0%, 
                rgb(var(--secondary)) 100%);
        }

        /* Organic Shapes */
        .organic-shape {
            border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
            animation: organic-morph 20s ease-in-out infinite;
        }

        @keyframes organic-morph {
            0%, 100% { border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; }
            25% { border-radius: 70% 30% 30% 70% / 70% 70% 30% 30%; }
            50% { border-radius: 50% 50% 50% 50% / 50% 50% 50% 50%; }
            75% { border-radius: 30% 70% 30% 70% / 30% 70% 30% 70%; }
        }

        /* Leaf Animation */
        .leaf-float {
            animation: leaf-float 10s ease-in-out infinite;
        }

        @keyframes leaf-float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-20px) rotate(5deg); }
            50% { transform: translateY(10px) rotate(-5deg); }
            75% { transform: translateY(-10px) rotate(3deg); }
        }

        /* Enhanced Navigation */
        .nav-item {
            @apply px-4 py-2 text-sm font-medium rounded-xl cursor-pointer relative overflow-hidden;
            transition: all 0.3s ease;
        }

        .nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(var(--nature), 0.3), transparent);
            transition: left 0.5s ease;
        }

        .nav-item:hover::before {
            left: 100%;
        }

        .nav-item.active {
            @apply text-white;
            background: linear-gradient(135deg, rgb(var(--primary)) 0%, rgb(var(--primary-dark)) 100%);
            box-shadow: 0 4px 15px rgba(var(--primary), 0.3);
        }

        /* Platform Sections */
        .platform-section {
            @apply hidden;
            animation: fadeIn 0.5s ease;
        }

        .platform-section.active {
            @apply block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Nature Particles */
        .nature-particle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: rgb(var(--nature));
            border-radius: 50%;
            opacity: 0.6;
            animation: float-up 8s linear infinite;
        }

        @keyframes float-up {
            from {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            to {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Feature Cards */
        .feature-card {
            @apply p-6 rounded-2xl transform hover:scale-105;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(var(--primary), 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .dark .feature-card {
            background: rgba(30, 41, 35, 0.9);
            border: 1px solid rgba(var(--nature), 0.2);
        }

        .feature-card:hover {
            box-shadow: 0 12px 40px rgba(var(--primary), 0.2);
            border-color: rgba(var(--primary), 0.4);
        }

        /* Document Scanner Enhancement */
        .scan-line-nature {
            position: absolute;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, 
                transparent, 
                rgb(var(--nature)), 
                rgb(var(--primary)),
                transparent);
            animation: scan-nature 3s linear infinite;
        }

        @keyframes scan-nature {
            0% { top: 0%; opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { top: 100%; opacity: 0; }
        }

        /* Eco Badge */
        .eco-badge {
            @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-medium;
            background: rgba(var(--nature), 0.1);
            color: rgb(var(--nature));
            border: 1px solid rgba(var(--nature), 0.3);
        }

        /* Timeline Enhancement */
        .eco-timeline-line {
            background: linear-gradient(180deg, 
                rgb(var(--nature)) 0%, 
                rgb(var(--primary)) 50%, 
                rgb(var(--secondary)) 100%);
        }

        /* Community Features */
        .community-avatar {
            @apply w-10 h-10 rounded-full border-2;
            border-color: rgb(var(--primary));
        }

        .community-badge {
            @apply absolute -bottom-1 -right-1 w-4 h-4 rounded-full flex items-center justify-center text-xs;
            background: rgb(var(--nature));
            color: white;
            font-weight: bold;
        }

        /* Dashboard Metrics */
        .metric-ring {
            stroke-dasharray: 251;
            stroke-dashoffset: 251;
            animation: fill-ring 2s ease-out forwards;
        }

        @keyframes fill-ring {
            to { stroke-dashoffset: 0; }
        }

        /* Search Enhancement */
        .search-glow {
            box-shadow: 0 0 0 0 rgba(var(--primary), 0.4);
            animation: search-pulse 2s infinite;
        }

        @keyframes search-pulse {
            0% { box-shadow: 0 0 0 0 rgba(var(--primary), 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(var(--primary), 0); }
            100% { box-shadow: 0 0 0 0 rgba(var(--primary), 0); }
        }

        /* Notification Styles */
        .notification-natural {
            @apply fixed top-4 right-4 p-4 rounded-xl flex items-center space-x-3;
            background: rgba(var(--nature), 0.95);
            color: white;
            backdrop-filter: blur(10px);
            animation: slideInRight 0.3s ease-out;
            z-index: 1000;
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        /* Loading Animation */
        .nature-loader {
            width: 50px;
            height: 50px;
            position: relative;
        }

        .nature-loader::before,
        .nature-loader::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 3px solid transparent;
            border-top-color: rgb(var(--primary));
            animation: nature-spin 1.5s linear infinite;
        }

        .nature-loader::after {
            border-top-color: rgb(var(--nature));
            animation-delay: 0.75s;
        }

        @keyframes nature-spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Accessibility */
        *:focus {
            outline: 3px solid rgba(var(--primary), 0.5);
            outline-offset: 2px;
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-green-50 via-blue-50 to-green-50 dark:from-green-950 dark:via-blue-950 dark:to-green-950">

    <!-- Nature Particles Background -->
    <div id="particles-container" class="fixed inset-0 pointer-events-none z-0"></div>

    <!-- Header -->
    <header class="natural-glass sticky top-0 z-40 shadow-lg">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <div class="flex items-center space-x-4">
                    <div class="relative">
                        <div class="w-12 h-12 nature-gradient rounded-2xl flex items-center justify-center organic-shape">
                            <i class="fas fa-leaf text-white text-xl leaf-float"></i>
                        </div>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold">
                            <span class="nature-gradient bg-clip-text text-transparent">Natural State Oslo</span>
                        </h1>
                        <p class="text-xs text-gray-600 dark:text-gray-400">La oss bygge Oslo for folket!</p>
                    </div>
                </div>
                
                <nav class="hidden md:flex items-center space-x-2">
                    <button data-platform="dashboard" class="nav-item active">
                        <i class="fas fa-home mr-2"></i>Oversikt
                    </button>
                    <button data-platform="planning" class="nav-item">
                        <i class="fas fa-map mr-2"></i>Planlegging
                    </button>
                    <button data-platform="building" class="nav-item">
                        <i class="fas fa-building mr-2"></i>Byggesak
                    </button>
                    <button data-platform="community" class="nav-item">
                        <i class="fas fa-users mr-2"></i>Fellesskap
                    </button>
                    <button data-platform="environment" class="nav-item">
                        <i class="fas fa-tree mr-2"></i>Miljø
                    </button>
                </nav>

                <div class="flex items-center space-x-4">
                    <button class="p-2 rounded-lg hover:bg-white/20 dark:hover:bg-black/20">
                        <i class="fas fa-search"></i>
                    </button>
                    <button onclick="toggleNotifications()" class="p-2 rounded-lg hover:bg-white/20 dark:hover:bg-black/20 relative">
                        <i class="fas fa-bell"></i>
                        <span class="absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"></span>
                    </button>
                    <button id="themeToggle" class="p-2 rounded-lg hover:bg-white/20 dark:hover:bg-black/20">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <!-- Dashboard Section -->
        <section id="dashboard" class="platform-section active">
            <div class="mb-8">
                <h2 class="text-4xl font-bold mb-4">
                    Velkommen til <span class="nature-gradient bg-clip-text text-transparent">Natural State Oslo</span>
                </h2>
                <p class="text-lg text-gray-600 dark:text-gray-400">
                    En helhetlig plattform for transparent byplanlegging og byggesaksbehandling
                </p>
            </div>

            <!-- Key Metrics -->
            <div class="grid md:grid-cols-4 gap-6 mb-12">
                <div class="feature-card text-center">
                    <div class="w-20 h-20 mx-auto mb-4 relative">
                        <svg class="w-20 h-20 transform -rotate-90">
                            <circle cx="40" cy="40" r="36" stroke="#e5e7eb" stroke-width="8" fill="none"/>
                            <circle class="metric-ring" cx="40" cy="40" r="36" stroke="url(#gradient1)" stroke-width="8" fill="none" stroke-dashoffset="50"/>
                        </svg>
                        <defs>
                            <linearGradient id="gradient1" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:rgb(var(--nature));stop-opacity:1" />
                                <stop offset="100%" style="stop-color:rgb(var(--primary));stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <span class="text-2xl font-bold">78%</span>
                        </div>
                    </div>
                    <h3 class="font-bold text-lg mb-1">Digitalisering</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">av alle byggesøknader</p>
                </div>

                <div class="feature-card text-center">
                    <div class="text-4xl font-bold text-green-600 mb-2">1,847</div>
                    <h3 class="font-bold text-lg mb-1">Aktive Planer</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">under behandling</p>
                </div>

                <div class="feature-card text-center">
                    <div class="text-4xl font-bold text-blue-600 mb-2">42 dager</div>
                    <h3 class="font-bold text-lg mb-1">Gjennomsnitt</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">saksbehandlingstid</p>
                </div>

                <div class="feature-card text-center">
                    <div class="text-4xl font-bold text-purple-600 mb-2">94%</div>
                    <h3 class="font-bold text-lg mb-1">Fornøyde</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">innbyggere</p>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="grid md:grid-cols-3 gap-6 mb-12">
                <div class="feature-card cursor-pointer group" onclick="switchPlatform('building')">
                    <div class="flex items-center space-x-4">
                        <div class="w-16 h-16 nature-gradient rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform">
                            <i class="fas fa-file-alt text-white text-2xl"></i>
                        </div>
                        <div class="flex-1">
                            <h3 class="font-bold text-lg">Start Byggesøknad</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400">AI-assistert søknadsprosess</p>
                        </div>
                        <i class="fas fa-arrow-right text-gray-400 group-hover:translate-x-2 transition-transform"></i>
                    </div>
                </div>

                <div class="feature-card cursor-pointer group" onclick="switchPlatform('planning')">
                    <div class="flex items-center space-x-4">
                        <div class="w-16 h-16 earth-gradient rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform">
                            <i class="fas fa-map-marked-alt text-white text-2xl"></i>
                        </div>
                        <div class="flex-1">
                            <h3 class="font-bold text-lg">Utforsk Planer</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Interaktivt plankart</p>
                        </div>
                        <i class="fas fa-arrow-right text-gray-400 group-hover:translate-x-2 transition-transform"></i>
                    </div>
                </div>

                <div class="feature-card cursor-pointer group" onclick="switchPlatform('community')">
                    <div class="flex items-center space-x-4">
                        <div class="w-16 h-16 sky-gradient rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform">
                            <i class="fas fa-comments text-white text-2xl"></i>
                        </div>
                        <div class="flex-1">
                            <h3 class="font-bold text-lg">Delta i Dialog</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Gi innspill på planer</p>
                        </div>
                        <i class="fas fa-arrow-right text-gray-400 group-hover:translate-x-2 transition-transform"></i>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="natural-glass rounded-2xl p-6">
                <h3 class="text-xl font-bold mb-4">Siste Aktivitet</h3>
                <div class="space-y-4">
                    <div class="flex items-center space-x-4">
                        <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                        <div class="flex-1">
                            <p class="font-medium">Ny reguleringsplan for Hovinbyen godkjent</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">2 timer siden</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                        <div class="w-2 h-2 bg-blue-500 rounded-full"></div>
                        <div class="flex-1">
                            <p class="font-medium">Høringsfrist for Fjordbyen utvidet</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">5 timer siden</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                        <div class="w-2 h-2 bg-purple-500 rounded-full"></div>
                        <div class="flex-1">
                            <p class="font-medium">247 nye innspill på klimastrategi</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">1 dag siden</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Planning Documents Section -->
        <section id="planning" class="platform-section">
            <div class="mb-8">
                <h2 class="text-3xl font-bold mb-4">Oslo Planlegging</h2>
                <p class="text-lg text-gray-600 dark:text-gray-400">
                    Utforsk alle planleggingsdokumenter og delta i byutviklingen
                </p>
            </div>

            <!-- Search and Filters -->
            <div class="natural-glass rounded-2xl p-6 mb-8">
                <div class="flex flex-col md:flex-row gap-4">
                    <div class="flex-1 relative">
                        <input type="text" placeholder="Søk i plandokumenter..." class="w-full px-6 py-3 rounded-xl bg-white/50 dark:bg-black/20 border border-gray-200 dark:border-gray-700 focus:border-green-500 focus:outline-none search-glow">
                        <i class="fas fa-search absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                    <select class="px-6 py-3 rounded-xl bg-white/50 dark:bg-black/20 border border-gray-200 dark:border-gray-700">
                        <option>Alle plantyper</option>
                        <option>Reguleringsplaner</option>
                        <option>Områdeplaner</option>
                        <option>Kommuneplaner</option>
                    </select>
                    <button class="px-6 py-3 nature-gradient text-white rounded-xl hover:shadow-lg transition">
                        <i class="fas fa-filter mr-2"></i>Filtrer
                    </button>
                </div>
            </div>

            <!-- Plan Categories -->
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                <div class="feature-card">
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center">
                            <i class="fas fa-city text-blue-600 dark:text-blue-400"></i>
                        </div>
                        <h3 class="font-bold text-lg">Kommuneplan</h3>
                    </div>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
                        Overordnet plan for hele Oslo kommune
                    </p>
                    <div class="space-y-2">
                        <div class="eco-badge">
                            <i class="fas fa-check-circle mr-1"></i>Gjeldende 2023-2035
                        </div>
                    </div>
                </div>

                <div class="feature-card">
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center">
                            <i class="fas fa-map text-green-600 dark:text-green-400"></i>
                        </div>
                        <h3 class="font-bold text-lg">Områdeplaner</h3>
                    </div>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
                        Detaljerte planer for bydeler
                    </p>
                    <div class="space-y-2">
                        <div class="eco-badge">
                            <i class="fas fa-sync mr-1"></i>18 under arbeid
                        </div>
                    </div>
                </div>

                <div class="feature-card">
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center">
                            <i class="fas fa-ruler-combined text-purple-600 dark:text-purple-400"></i>
                        </div>
                        <h3 class="font-bold text-lg">Reguleringsplaner</h3>
                    </div>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
                        Juridisk bindende detaljplaner
                    </p>
                    <div class="space-y-2">
                        <div class="eco-badge">
                            <i class="fas fa-file-alt mr-1"></i>847 aktive planer
                        </div>
                    </div>
                </div>
            </div>

            <!-- Interactive Map Placeholder -->
            <div class="natural-glass rounded-2xl p-6 h-96 flex items-center justify-center">
                <div class="text-center">
                    <i class="fas fa-map-marked-alt text-6xl text-gray-300 dark:text-gray-600 mb-4"></i>
                    <p class="text-gray-600 dark:text-gray-400">Interaktivt plankart lastes...</p>
                </div>
            </div>
        </section>

        <!-- Building Permit Section -->
        <section id="building" class="platform-section">
            <div class="mb-8">
                <h2 class="text-3xl font-bold mb-4">Byggesaksbehandling</h2>
                <p class="text-lg text-gray-600 dark:text-gray-400">
                    AI-assistert byggesøknad med sanntids status
                </p>
            </div>

            <!-- AI Document Scanner -->
            <div class="natural-glass rounded-2xl p-8 mb-8">
                <h3 class="text-2xl font-bold mb-6 text-center">
                    <i class="fas fa-robot mr-3 text-green-600"></i>AI Dokumentskanner
                </h3>
                <div class="max-w-2xl mx-auto">
                    <div class="border-4 border-dashed border-green-500/50 rounded-2xl p-12 text-center relative overflow-hidden">
                        <div class="scan-line-nature"></div>
                        <i class="fas fa-cloud-upload-alt text-6xl text-green-500 mb-4"></i>
                        <p class="text-lg mb-4">Dra og slipp dokumenter her</p>
                        <button class="px-6 py-3 nature-gradient text-white rounded-xl hover:shadow-lg transition">
                            Velg filer
                        </button>
                        <p class="text-sm text-gray-600 dark:text-gray-400 mt-4">
                            AI-en sjekker automatisk for mangler og compliance
                        </p>
                    </div>
                </div>
            </div>

            <!-- Process Timeline -->
            <div class="mb-8">
                <h3 class="text-xl font-bold mb-6">Din søknadsprosess</h3>
                <div class="relative">
                    <div class="absolute left-1/2 transform -translate-x-1/2 w-1 h-full eco-timeline-line rounded-full"></div>
                    
                    <div class="space-y-12">
                        <div class="flex items-center">
                            <div class="flex-1 text-right pr-8">
                                <h4 class="font-bold">1. Forberedelse</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Last opp dokumenter</p>
                            </div>
                            <div class="w-8 h-8 bg-green-500 rounded-full z-10 relative flex items-center justify-center">
                                <i class="fas fa-check text-white text-xs"></i>
                            </div>
                            <div class="flex-1 pl-8">
                                <span class="eco-badge">Fullført</span>
                            </div>
                        </div>

                        <div class="flex items-center">
                            <div class="flex-1 text-right pr-8">
                                <span class="eco-badge">Pågår</span>
                            </div>
                            <div class="w-8 h-8 bg-blue-500 rounded-full z-10 relative flex items-center justify-center animate-pulse">
                                <i class="fas fa-spinner fa-spin text-white text-xs"></i>
                            </div>
                            <div class="flex-1 pl-8">
                                <h4 class="font-bold">2. Behandling</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400">AI-validering pågår</p>
                            </div>
                        </div>

                        <div class="flex items-center opacity-50">
                            <div class="flex-1 text-right pr-8">
                                <h4 class="font-bold">3. Vedtak</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Estimert: 28 dager</p>
                            </div>
                            <div class="w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded-full z-10 relative"></div>
                            <div class="flex-1 pl-8"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Status Dashboard -->
            <div class="grid md:grid-cols-2 gap-6">
                <div class="natural-glass rounded-2xl p-6">
                    <h4 class="font-bold text-lg mb-4">Saksbehandlingstid</h4>
                    <canvas id="processingTimeChart"></canvas>
                </div>
                <div class="natural-glass rounded-2xl p-6">
                    <h4 class="font-bold text-lg mb-4">Kommune sammenligning</h4>
                    <canvas id="municipalityChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Community Section -->
        <section id="community" class="platform-section">
            <div class="mb-8">
                <h2 class="text-3xl font-bold mb-4">Fellesskap og Dialog</h2>
                <p class="text-lg text-gray-600 dark:text-gray-400">
                    Delta i byutviklingen sammen med andre innbyggere
                </p>
            </div>

            <!-- Active Discussions -->
            <div class="grid md:grid-cols-2 gap-6 mb-8">
                <div class="natural-glass rounded-2xl p-6">
                    <h3 class="text-xl font-bold mb-4">Aktive diskusjoner</h3>
                    <div class="space-y-4">
                        <div class="flex items-start space-x-3">
                            <img src="https://ui-avatars.com/api/?name=Anna+Hansen&background=168f77&color=fff" class="community-avatar">
                            <div class="flex-1">
                                <p class="font-medium">Grøntområder i Hovinbyen</p>
                                <p class="text-sm text-gray-600 dark:text-gray-400">23 kommentarer • 2 timer siden</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <img src="https://ui-avatars.com/api/?name=Lars+Olsen&background=2e86ab&color=fff" class="community-avatar">
                            <div class="flex-1">
                                <p class="font-medium">Sykkelvei langs Akerselva</p>
                                <p class="text-sm text-gray-600 dark:text-gray-400">45 kommentarer • 5 timer siden</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="natural-glass rounded-2xl p-6">
                    <h3 class="text-xl font-bold mb-4">Kommende møter</h3>
                    <div class="space-y-4">
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center">
                                <i class="fas fa-calendar text-green-600 dark:text-green-400"></i>
                            </div>
                            <div class="flex-1">
                                <p class="font-medium">Åpent møte: Fjordbyen</p>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Tirsdag 14. juni, kl. 18:00</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center">
                                <i class="fas fa-calendar text-blue-600 dark:text-blue-400"></i>
                            </div>
                            <div class="flex-1">
                                <p class="font-medium">Workshop: Klimastrategi</p>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Torsdag 16. juni, kl. 17:00</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Community Stats -->
            <div class="grid md:grid-cols-4 gap-6">
                <div class="feature-card text-center">
                    <div class="text-3xl font-bold text-green-600 mb-2">3,847</div>
                    <p class="text-sm">Aktive deltakere</p>
                </div>
                <div class="feature-card text-center">
                    <div class="text-3xl font-bold text-blue-600 mb-2">12,493</div>
                    <p class="text-sm">Innspill totalt</p>
                </div>
                <div class="feature-card text-center">
                    <div class="text-3xl font-bold text-purple-600 mb-2">847</div>
                    <p class="text-sm">Gjennomførte møter</p>
                </div>
                <div class="feature-card text-center">
                    <div class="text-3xl font-bold text-orange-600 mb-2">94%</div>
                    <p class="text-sm">Fornøyde deltakere</p>
                </div>
            </div>
        </section>

        <!-- Environment Section -->
        <section id="environment" class="platform-section">
            <div class="mb-8">
                <h2 class="text-3xl font-bold mb-4">Miljø og Bærekraft</h2>
                <p class="text-lg text-gray-600 dark:text-gray-400">
                    Oslos grønne fremtid starter her
                </p>
            </div>

            <!-- Climate Dashboard -->
            <div class="natural-glass rounded-2xl p-8 mb-8">
                <h3 class="text-2xl font-bold mb-6">Klimamål 2030</h3>
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="text-center">
                        <div class="relative inline-block mb-4">
                            <svg class="w-32 h-32">
                                <circle cx="64" cy="64" r="60" stroke="#e5e7eb" stroke-width="8" fill="none"/>
                                <circle cx="64" cy="64" r="60" stroke="url(#greenGradient)" stroke-width="8" fill="none"
                                        stroke-dasharray="377" stroke-dashoffset="94" transform="rotate(-90 64 64)"/>
                            </svg>
                            <defs>
                                <linearGradient id="greenGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:rgb(var(--nature));stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:rgb(var(--primary));stop-opacity:1" />
                                </linearGradient>
                            </defs>
                            <div class="absolute inset-0 flex items-center justify-center">
                                <span class="text-2xl font-bold">75%</span>
                            </div>
                        </div>
                        <h4 class="font-bold">CO2 Reduksjon</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">av 95% mål</p>
                    </div>

                    <div class="text-center">
                        <div class="relative inline-block mb-4">
                            <svg class="w-32 h-32">
                                <circle cx="64" cy="64" r="60" stroke="#e5e7eb" stroke-width="8" fill="none"/>
                                <circle cx="64" cy="64" r="60" stroke="url(#blueGradient)" stroke-width="8" fill="none"
                                        stroke-dasharray="377" stroke-dashoffset="151" transform="rotate(-90 64 64)"/>
                            </svg>
                            <defs>
                                <linearGradient id="blueGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:rgb(var(--sky));stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:rgb(var(--secondary));stop-opacity:1" />
                                </linearGradient>
                            </defs>
                            <div class="absolute inset-0 flex items-center justify-center">
                                <span class="text-2xl font-bold">60%</span>
                            </div>
                        </div>
                        <h4 class="font-bold">Grønne Områder</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">av byarealet</p>
                    </div>

                    <div class="text-center">
                        <div class="relative inline-block mb-4">
                            <svg class="w-32 h-32">
                                <circle cx="64" cy="64" r="60" stroke="#e5e7eb" stroke-width="8" fill="none"/>
                                <circle cx="64" cy="64" r="60" stroke="url(#earthGradient)" stroke-width="8" fill="none"
                                        stroke-dasharray="377" stroke-dashoffset="113" transform="rotate(-90 64 64)"/>
                            </svg>
                            <defs>
                                <linearGradient id="earthGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:rgb(var(--earth));stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:rgb(var(--accent));stop-opacity:1" />
                                </linearGradient>
                            </defs>
                            <div class="absolute inset-0 flex items-center justify-center">
                                <span class="text-2xl font-bold">70%</span>
                            </div>
                        </div>
                        <h4 class="font-bold">Gjenvinning</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">av byggavfall</p>
                    </div>
                </div>
            </div>

            <!-- Green Initiatives -->
            <div class="grid md:grid-cols-2 gap-6">
                <div class="feature-card">
                    <h4 class="font-bold text-lg mb-3">Pågående Miljøprosjekter</h4>
                    <div class="space-y-3">
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-tree text-green-600"></i>
                            <span>100,000 nye trær plantet i 2024</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-bicycle text-blue-600"></i>
                            <span>50 km nye sykkelveier under bygging</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-solar-panel text-orange-600"></i>
                            <span>Solceller på alle kommunale bygg</span>
                        </div>
                    </div>
                </div>

                <div class="feature-card">
                    <h4 class="font-bold text-lg mb-3">Din Miljøpåvirkning</h4>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span>CO2 spart denne måneden</span>
                            <span class="font-bold text-green-600">247 kg</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span>Gjenvinningsrate</span>
                            <span class="font-bold text-blue-600">82%</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span>Grønn transport</span>
                            <span class="font-bold text-purple-600">94%</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="natural-glass mt-16 py-8">
        <div class="container mx-auto px-4 text-center">
            <div class="flex items-center justify-center space-x-2 mb-4">
                <i class="fas fa-leaf text-green-600"></i>
                <span class="font-bold">Natural State Oslo</span>
            </div>
            <p class="text-sm text-gray-600 dark:text-gray-400">
                La oss bygge Oslo for folket - sammen
            </p>
            <div class="flex justify-center space-x-6 mt-4">
                <a href="#" class="text-gray-600 dark:text-gray-400 hover:text-green-600 transition">
                    <i class="fab fa-github text-xl"></i>
                </a>
                <a href="#" class="text-gray-600 dark:text-gray-400 hover:text-green-600 transition">
                    <i class="fab fa-twitter text-xl"></i>
                </a>
                <a href="#" class="text-gray-600 dark:text-gray-400 hover:text-green-600 transition">
                    <i class="fas fa-envelope text-xl"></i>
                </a>
            </div>
        </div>
    </footer>

    <!-- Notification -->
    <div id="notification" class="notification-natural hidden">
        <i class="fas fa-check-circle text-2xl"></i>
        <div>
            <p class="font-bold">Suksess!</p>
            <p class="text-sm opacity-90">Handlingen ble fullført</p>
        </div>
    </div>

    <script>
        // Initialize variables
        let currentPlatform = 'dashboard';
        let theme = localStorage.getItem('theme') || 'light';
        
        // Apply saved theme
        if (theme === 'dark') {
            document.body.classList.add('dark');
            updateThemeIcon();
        }

        // Create nature particles
        function createParticles() {
            const container = document.getElementById('particles-container');
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'nature-particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 8 + 's';
                particle.style.animationDuration = (8 + Math.random() * 4) + 's';
                container.appendChild(particle);
            }
        }

        // Platform switching
        function switchPlatform(platform) {
            currentPlatform = platform;
            
            // Update navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.toggle('active', item.getAttribute('data-platform') === platform);
            });
            
            // Update sections
            document.querySelectorAll('.platform-section').forEach(section => {
                section.classList.toggle('active', section.id === platform);
            });
            
            // Initialize charts if needed
            if (platform === 'building') {
                setTimeout(initCharts, 100);
            }
        }

        // Event listeners for navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', () => {
                const platform = item.getAttribute('data-platform');
                switchPlatform(platform);
            });
        });

        // Theme toggle
        document.getElementById('themeToggle').addEventListener('click', () => {
            document.body.classList.toggle('dark');
            theme = document.body.classList.contains('dark') ? 'dark' : 'light';
            localStorage.setItem('theme', theme);
            updateThemeIcon();
        });

        function updateThemeIcon() {
            const icon = document.querySelector('#themeToggle i');
            if (document.body.classList.contains('dark')) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
        }

        // Initialize charts
        function initCharts() {
            // Processing time chart
            const ctx1 = document.getElementById('processingTimeChart');
            if (ctx1 && !ctx1.chart) {
                ctx1.chart = new Chart(ctx1.getContext('2d'), {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'Mai', 'Jun'],
                        datasets: [{
                            label: 'Dager',
                            data: [65, 59, 52, 48, 45, 42],
                            borderColor: 'rgb(22, 143, 119)',
                            backgroundColor: 'rgba(22, 143, 119, 0.1)',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        }
                    }
                });
            }

            // Municipality comparison chart
            const ctx2 = document.getElementById('municipalityChart');
            if (ctx2 && !ctx2.chart) {
                ctx2.chart = new Chart(ctx2.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ['Oslo', 'Bergen', 'Trondheim', 'Stavanger'],
                        datasets: [{
                            label: 'Behandlingstid (dager)',
                            data: [42, 56, 38, 45],
                            backgroundColor: [
                                'rgba(22, 143, 119, 0.6)',
                                'rgba(46, 134, 171, 0.6)',
                                'rgba(88, 166, 61, 0.6)',
                                'rgba(251, 146, 60, 0.6)'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        }
                    }
                });
            }
        }

        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.classList.remove('hidden');
            
            setTimeout(() => {
                notification.classList.add('hidden');
            }, 3000);
        }

        // Toggle notifications panel
        function toggleNotifications() {
            showNotification('Ingen nye varsler', 'info');
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', () => {
            createParticles();
            
            // Simulate loading
            setTimeout(() => {
                document.querySelectorAll('.nature-loader').forEach(loader => {
                    loader.style.display = 'none';
                });
            }, 1000);
        });

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // Progressive enhancement
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js').catch(() => {
                console.log('Service Worker registration failed');
            });
        }
    </script>
</body>
</html>